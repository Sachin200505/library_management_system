import{d as i,r,j as e,n as d}from"./index-B0U1T1C1.js";import{S as p}from"./save-CG2Cxpcj.js";const c={getAll:async()=>(await i.get("settings/")).data,update:async(s,a)=>(await i.patch(`settings/${s}/`,a)).data},g=()=>{const[s,a]=r.useState([]),[o,u]=r.useState(!0);r.useEffect(()=>{n()},[]);const n=async()=>{try{const t=await c.getAll();a(t.results||t)}catch(t){console.error("Error fetching settings",t)}finally{u(!1)}},x=async(t,l)=>{try{await c.update(t,{value:l})}catch(m){console.error("Error updating setting",m),alert("Failed to update setting")}};return o?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6 animate-fade-in max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center bg-white/50 p-6 rounded-2xl glass-card shadow-lg backdrop-blur-md border border-white/20 sticky top-0 z-10 w-full text-slate-800",children:e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3 font-heading",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(d,{className:"text-blue-600 w-8 h-8"})}),"System Settings"]})}),e.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl shadow-xl p-8 space-y-4",children:[s.map(t=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start border-b border-slate-50 pb-4 last:border-0 last:pb-0 group",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-lg font-bold text-slate-900 capitalize mb-1 group-hover:text-blue-600 transition-colors",children:t.key.replace(/_/g," ")}),e.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:t.key==="fine_per_day"?"Amount charged per day for overdue books.":t.key==="return_period_days"?"Maximum duration for book issues.":t.key==="currency_symbol"?"Currency symbol used system-wide.":"System configuration constant."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:t.value_type==="int"||t.value_type==="float"?"number":"text",defaultValue:t.value,onBlur:l=>x(t.id,l.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-4 pr-12 text-slate-800 font-medium focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all placeholder-slate-400",placeholder:`Set ${t.key.replace(/_/g," ")}`}),e.jsx(p,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 group-focus-within:text-blue-500 transition-colors pointer-events-none"})]})})]},t.id)),s.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"w-10 h-10 text-slate-300"})}),e.jsx("p",{className:"text-slate-500 text-lg font-medium",children:"No configuration settings available."}),e.jsx("button",{onClick:n,className:"mt-6 px-8 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-blue-600/20 hover:bg-blue-700 transition-all active:scale-95",children:"Refresh Data"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 text-sm italic",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),"Changes saved automatically on blur."]})]})};export{g as default};
