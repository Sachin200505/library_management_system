const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B0U1T1C1.js","assets/index-DLbz_U43.css"])))=>i.map(i=>d[i]);
import{i as w,a as y,r as a,j as e,b as v,_ as N}from"./index-B0U1T1C1.js";import{C as j}from"./check-circle-BtgdL02B.js";import{A as P}from"./alert-circle-DhW1dSqa.js";import{L as c}from"./lock-CtMYUMSI.js";const L=()=>{const{uid:u,token:m}=w(),g=y(),[o,p]=a.useState(""),[l,b]=a.useState(""),[s,t]=a.useState({type:"",message:""}),[i,d]=a.useState(!1),f=async r=>{if(r.preventDefault(),o!==l){t({type:"error",message:"Passwords do not match"});return}d(!0),t({type:"",message:""});try{const{default:n}=await N(async()=>{const{default:h}=await import("./index-B0U1T1C1.js").then(x=>x.o);return{default:h}},__vite__mapDeps([0,1]));await n.resetPassword({uid:u,token:m,password:o,confirmation_password:l}),t({type:"success",message:"Password reset successfully! Redirecting to login..."}),setTimeout(()=>{g("/login")},3e3)}catch(n){console.error(n),t({type:"error",message:"Failed to reset password. The link may be invalid or expired."})}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 bg-[url('https://images.unsplash.com/photo-1507842217121-9e96e477c9ef?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 bg-white/10 border border-white/20 rounded-2xl shadow-2xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"p-3 bg-blue-600/20 rounded-full mb-4 ring-2 ring-blue-500/50",children:e.jsx(v,{className:"w-10 h-10 text-blue-400"})}),e.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"set New Password"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your new password below"})]}),s.message&&e.jsxs("div",{className:`p-4 mb-6 rounded-lg flex items-start gap-3 ${s.type==="success"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:[s.type==="success"?e.jsx(j,{className:"w-5 h-5 mt-0.5 shrink-0"}):e.jsx(P,{className:"w-5 h-5 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-sm",children:s.message})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(c,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",placeholder:"New Password",value:o,onChange:r=>p(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-500 transition-all duration-200 outline-none",required:!0,minLength:8})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(c,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",value:l,onChange:r=>b(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-500 transition-all duration-200 outline-none",required:!0})]}),e.jsx("button",{type:"submit",disabled:i||s.type==="success",className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:i?"Resetting...":"Reset Password"})]})]})]})};export{L as default};
