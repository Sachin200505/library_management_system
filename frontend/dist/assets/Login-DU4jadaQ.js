const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B0U1T1C1.js","assets/index-DLbz_U43.css"])))=>i.map(i=>d[i]);
import{r as t,u as S,a as k,j as e,U as E,h as F,_ as L}from"./index-B0U1T1C1.js";import{B as P}from"./book-open-CIpCioG8.js";import{L as R}from"./lock-CtMYUMSI.js";import{A as _}from"./arrow-right-DN4_W-wx.js";const I=()=>{const[n,h]=t.useState(""),[i,b]=t.useState(""),[d,p]=t.useState(""),[a,l]=t.useState({type:"",message:""}),[g,r]=t.useState(!1),[c,u]=t.useState(""),[m,x]=t.useState(!1),{login:f}=S(),v=k(),j=async s=>{s.preventDefault();try{await f(n,i),v("/dashboard")}catch{p("Invalid credentials")}},w=async s=>{s.preventDefault(),x(!0);try{const{default:o}=await L(async()=>{const{default:N}=await import("./index-B0U1T1C1.js").then(y=>y.o);return{default:N}},__vite__mapDeps([0,1]));await o.requestPasswordReset(c),l({type:"success",message:"If an account exists, a reset link has been sent to your email."}),setTimeout(()=>{r(!1),l({type:"",message:""}),u("")},3e3)}catch{l({type:"error",message:"Failed to send reset link. Please try again."})}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 bg-slate-50",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full bg-blue-100/50 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 rounded-full bg-slate-200/50 blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-md p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-blue-600 rounded-xl shadow-lg shadow-blue-600/20",children:e.jsx(P,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Welcome Back"}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:"Sign in to your library account"})]}),e.jsxs("div",{className:"card p-8 shadow-xl shadow-slate-200/50 border-slate-200",children:[d&&e.jsxs("div",{className:"p-3 mb-6 text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg text-center font-medium flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),d]}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Enter your username or email",value:n,onChange:s=>h(s.target.value),className:"input-field !pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:"Password"}),e.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-xs font-semibold text-blue-600 hover:text-blue-700 hover:underline",children:"Forgot Password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"password",placeholder:"••••••••",value:i,onChange:s=>b(s.target.value),className:"input-field !pl-10",required:!0})]})]}),e.jsxs("button",{type:"submit",className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-sm hover:shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:["Sign In ",e.jsx(_,{className:"w-4 h-4"})]})]})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-slate-500",children:["Don't have an account?"," ",e.jsx(F,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-bold hover:underline transition-colors",children:"Create an account"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"card w-full max-w-md p-8 relative animate-scale-up",children:[e.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:"✕"}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:"Enter your email address to receive a reset link."}),a.message&&e.jsx("div",{className:`p-4 mb-6 rounded-lg text-sm font-medium ${a.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-red-50 text-red-700 border border-red-100"}`,children:a.message}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"name@example.com",value:c,onChange:s=>u(s.target.value),className:"input-field",required:!0})}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors disabled:opacity-70 disabled:cursor-not-allowed shadow-sm",children:m?"Sending...":"Send Reset Link"})]})]})})]})};export{I as default};
